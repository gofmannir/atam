.global _start

.section .text

  movq root, %rdi
  xor %r8, %r8
  movl __ExpectedArraySize, %r8d
  movq $__ExpectedArray, %r9
  movq $0, %r10
  call rec

  cmp %r10, %r8
  jne bad_exit
  
  movq $60, %rax
  movq $0, %rdi
  syscall

bad_exit:
  movq $60, %rax
  movq $1, %rdi
  syscall

rec:
  pushq %rdi
  movq (%rdi), %r11
  cmp $0, %r11
  je skip_left
  movq %r11, %rdi
  call rec
  movq (%rsp), %rdi
skip_left:
  cmpq %r8, %r10
  je bad_exit
  movl 8(%rdi), %eax
  movl (%r9, %r10, 4), %edx
  cmpl %eax, %edx
  jne bad_exit
  inc %r10

  movq 12(%rdi), %r11
  cmp $0, %r11
  je skip_right
  movq %r11, %rdi
  call rec
skip_right:
  popq %rdi
  ret


.section .data
__ExpectedArray: .int -2137472599, -1922124913, -1830208970, -1822822189, -1719090713, -1578959438, -1551341267, -1476864835, -1463663359, -1417938642, -1377323805, -1360870745, -1354852967, -1346673188, -1313994923, -1257441438, -1253937367, -1233985795, -1201634007, -1109831721, -989040018, -860843814, -697210103, -673440316, -620135928, -618216949, -541474426, -526663732, -279726596, -275014169, -249260674, -205101274, -172947074, -158281729, -91486982, -47084435, 62243241, 124044558, 199470380, 213726709, 238744472, 244917976, 276447420, 288832541, 338248291, 391721186, 425336056, 495366751, 532690264, 711863523, 800662447, 864389310, 938479837, 973321110, 1119097350, 1127615595, 1190021120, 1241490250, 1251434499, 1269413031, 1338166352, 1440032364, 1540308616, 1603262665, 1648281427, 1665899514, 1705538746, 1772077888, 1782509859, 1794329416, 1817018882, 1830704829, 1832792711, 1852591285, 1865237259, 1882817159, 1896113779, 1933222184, 1979545494, 2022290299, 2057062726, 2072003610, 2128754466
__Garbage_169255288: .byte 122, 38, 29, 46, 96, 204, 131
__ExpectedArraySize: .int 83
__Garbage_969494104: .byte 16, 72, 53, 58, 50, 135, 81
__Nodes:
.quad 0
.int -2137472599
.quad __Nodes + 1620
.quad __Nodes + 1200
.int -158281729
.quad __Nodes + 60
.quad 0
.int 338248291
.quad 0
.quad __Nodes + 620
.int -47084435
.quad __Nodes + 300
.quad 0
.int 1852591285
.quad 0
.quad __Nodes + 240
.int 213726709
.quad __Nodes + 1220
.quad __Nodes + 1100
.int 2022290299
.quad __Nodes + 1600
.quad 0
.int -249260674
.quad 0
.quad __Nodes + 200
.int -1463663359
.quad 0
.quad __Nodes + 960
.int 1865237259
.quad __Nodes + 800
.quad 0
.int -1476864835
.quad 0
.quad 0
.int 238744472
.quad __Nodes + 840
.quad __Nodes + 1460
.int -205101274
.quad __Nodes + 1300
.quad 0
.int 1933222184
.quad 0
.quad __Nodes + 1480
.int -620135928
.quad __Nodes + 440
.quad 0
.int 62243241
.quad __Nodes + 1420
.quad __Nodes + 0
.int -1830208970
.quad __Nodes + 860
.quad __Nodes + 380
.int 532690264
.quad __Nodes + 1440
.quad __Nodes + 780
.int -1346673188
.quad 0
.quad __Nodes + 740
.int 495366751
.quad 0
.quad 0
.int -279726596
.quad __Nodes + 520
.quad 0
.int -1719090713
.quad 0
.quad 0
.int -618216949
.quad 0
.quad 0
.int 1251434499
.quad 0
.quad __Nodes + 280
.int -541474426
.quad __Nodes + 1120
.quad 0
.int 2057062726
.quad 0
.quad 0
.int -275014169
.quad __Nodes + 140
.quad __Nodes + 320
.int -1551341267
.quad __Nodes + 160
.quad 0
.int -1201634007
.quad 0
.quad 0
.int 1665899514
.quad 0
.quad __Nodes + 1080
.int -1233985795
.quad __Nodes + 560
.quad 0
.int -91486982
.quad 0
.quad 0
.int -673440316
.quad 0
.quad __Nodes + 940
.int 1896113779
.quad __Nodes + 1580
.quad __Nodes + 920
.int 1440032364
.quad __Nodes + 1500
.quad __Nodes + 1020
.int 391721186
.quad 0
.quad __Nodes + 580
.int 1705538746
.quad __Nodes + 1400
.quad __Nodes + 700
.int 425336056
.quad 0
.quad 0
.int 864389310
.quad 0
.quad 0
.int -1377323805
.quad __Nodes + 820
.quad 0
.int 1882817159
.quad 0
.quad 0
.int -1360870745
.quad __Nodes + 980
.quad 0
.int 244917976
.quad 0
.quad 0
.int -1822822189
.quad __Nodes + 1040
.quad __Nodes + 1340
.int 800662447
.quad __Nodes + 760
.quad 0
.int 1127615595
.quad __Nodes + 1540
.quad __Nodes + 1260
.int 1241490250
.quad __Nodes + 1380
.quad __Nodes + 680
.int 1648281427
.quad __Nodes + 1000
.quad 0
.int 1830704829
.quad __Nodes + 1520
.quad 0
.int -1354852967
.quad 0
.quad __Nodes + 1360
.int 1817018882
.quad __Nodes + 180
.quad 0
.int 288832541
.quad __Nodes + 40
.quad __Nodes + 420
.int -1578959438
.quad 0
.quad 0
.int 1338166352
.quad 0
.quad __Nodes + 1160
.int -1253937367
.quad 0
.quad __Nodes + 260
.int 1979545494
.quad 0
.quad 0
.int -526663732
.quad __Nodes + 400
.quad __Nodes + 720
.int 1782509859
.quad 0
.quad 0
.int -1257441438
.quad 0
.quad 0
.int 1540308616
.quad 0
.quad 0
.int -172947074
.quad 0
.quad __Nodes + 880
.int 938479837
.quad __Nodes + 660
.quad __Nodes + 360
.int -1313994923
.quad __Nodes + 100
.quad 0
.int 1119097350
.quad __Nodes + 900
.quad __Nodes + 540
.int -1417938642
.quad __Nodes + 1240
.quad __Nodes + 20
.int 199470380
.quad 0
.quad 0
.int -860843814
.quad 0
.quad __Nodes + 220
.int 276447420
.quad __Nodes + 340
.quad __Nodes + 1140
.int 1794329416
.quad 0
.quad __Nodes + 460
.int 1269413031
.quad __Nodes + 1060
.quad 0
.int 1772077888
.quad 0
.quad 0
.int 124044558
.quad 0
.quad 0
.int 711863523
.quad 0
.quad __Nodes + 600
.int -1109831721
.quad __Nodes + 480
.quad 0
.int -989040018
.quad __Nodes + 1560
.quad __Nodes + 1180
.int 1603262665
.quad 0
.quad 0
.int 1832792711
.quad __Nodes + 80
.quad 0
.int 1190021120
.quad 0
.quad __Nodes + 1320
.int -697210103
.quad __Nodes + 640
.quad __Nodes + 120
.int 2128754466
.quad 0
.quad __Nodes + 500
.int 2072003610
.quad 0
.quad 0
.int -1922124913
.quad 0
__Garbage_793441755: .byte 32, 221, 50, 77, 212, 119, 93, 17
root:
.quad __Nodes + 1280
__Garbage_519884886: .byte 41, 151, 70, 252, 225, 194, 36, 177, 12, 251
node:
.quad 1345120224
.int 973321110
.quad 848417461
